<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Title Page</title>

		<script src="js/jquery.min.js"></script>
		<script src="js/dx.js"></script>
		<style>
		body{
			font-size: 100%;
		}
		.dx{
			margin-bottom: 16px;
			display: block;
		}
    select.dx {
        height:30px;
        line-height:30px;
        background:#fff;
    } 	
    .ctl-group input.dx{
    	display: inline;
    }
		</style>
	</head>
	<body>
		<h1 class="text-center">Quick Test/Doc Page</h1>
		<h3>Open with browser console on.</h3>

		<script>
		dx.addPusher("input.custom", function(value){
			this.val("custom: " + value);
			this.css("border","solid 1px green");
		});

		$(function(){
			var data = {
				name: "John Smith",
				since: 1997,
				skills: ["java","javascript","go"],
				premium: true,
				job: {
					title: "vp"
				}, 
				note: "Specialized in HTML5 and Java8"
			}
			$("body").dxPush(data);

			var pulledData = $("body").dxPull();
			console.log("dxPull()", pulledData);
			$("body").on("change","input,select",function(){
				console.log("dxPull()", $("body").dxPull());
			});
		});		
		</script>

		<div class="card">
			<div class="dx dx-name"></div>
			<input type="text" class="dx dx-since"/>
			<input type="text" name="since" class="dx"/>
			<h4>Skills:</h4>
			<div class="ctl-group">
				<input type="checkbox" name="skills" class="dx" value="java"/> Java
			</div>
			<div class="ctl-group">
			  <input type="checkbox" name="skills" class="dx" value="javascript"/> Javascript
			</div>		
			<div class="ctl-group">
			  <input type="checkbox" name="skills" class="dx" value="swift"/> Swift
			</div>
			<div class="ctl-group">
			  <input type="checkbox" name="skills" class="dx" value="go"/> Go
			</div>	
			<div class="ctl-group">
			  <input type="checkbox" name="skills" class="dx" value="python"/> Python
			</div>
			<h4>Subscription:</h4>
			<div class="ctl-group">
			  <input type="checkbox" name="premium" class="dx"/> Premium
			</div>
			<div class="ctl-group">
			  <input type="checkbox" name="platinum" class="dx"/> Platinum
			</div>	
			<input class="dx dx-job-title custom" type="text"/>
			<select name="ll" class="dx dx-since">
				<option value="1994" selected>1994</option>
				<option value="1995">1995</option>
				<option value="1996">1996</option>
				<option value="1997">1997</option>
				<option value="1998">1998</option>
			</select>
			<textarea name="note" class="dx"></textarea>
		</div>

		<script>
		// Quick console test (for now)
		$(function(){
			var data = {
				contact: {
					name: "John Smith",
					since: 1997,
					note: "Specialized in HTML5 and Java8"
				}
			}				
			console.log("test dx.val getValue", dx.val(data,"contact.name"));

			var tmp = {};
			dx.val(tmp,"contact.name","jen");
			dx.val(tmp,"contact.since",2000);
			dx.val(tmp,"contact.job.title","vp");
			console.log("test dx.val setValue", tmp);
		});
		</script>

	</body>
</html>